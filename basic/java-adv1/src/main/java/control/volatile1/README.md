# 메모리 가소성

- 메인 메모리의 변경 내역을 캐시 메모리에 가져오는 시점은 언제일까?
- CPU 설계 방식과 실행 환경에 따라 다를 수 있다. (즉시 될 수도 있고, 몇 밀리초 후에 될 수도, 몇 초 후가 될 수도, 평생 되지 않을 수도 있다.)
- 주로 컨텍스트 스위칭이 될 때, 캐시 메모리도 함께 갱신되는데, 이 부분도 환경에 따라 달라질 수 있다.
  - `Thread.sleep()`, 콘솔에 출력 등을 할 때 스레드가 잠깐 쉬는데, 이럴 때 컨텍스트 스위칭이 되면서 주로 갱신된다.
  - 하지만 이것이 갱신을 보장하는 것은 아니다.

## 성능 차이

- 예시 코드에서 확인해보면, `volatile`을 사용하면 거의 5배 느린 것을 확인할 수 있다.
